/*!CK:2065269523!*//*1408457196,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["52Dam"]); }

__d("KnowledgeNullableInput",["Event"],function(a,b,c,d,e,f,g){function h(i,j,k){"use strict";this.input=i;this.noValueCheckbox=j;this.noValueHiddenInput=k;this.updateInput();g.listen(j,'change',this.updateInput.bind(this));}h.prototype.updateInput=function(){"use strict";this.conditionalDisable(this.input,this.noValueCheckbox.checked);this.conditionalDisable(this.noValueHiddenInput,!this.noValueCheckbox.checked);};h.prototype.conditionalDisable=function(i,j){"use strict";if(j){this.disable(i);}else this.enable(i);};h.prototype.disable=function(i){"use strict";i.setAttribute('disabled','disabled');};h.prototype.enable=function(i){"use strict";i.removeAttribute('disabled');};e.exports=h;},null);
__d("ReviewsController",["Arbiter","Dialog","Event","React","Image.react","Run","DOM","csx","fbt","ix","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r={},s={},t={},u={},v={},w={registerRevealProfanity:function(x,y,z){i.listen(y,'click',function(){x.style.display='none';z.style.display='inline';});},registerButton:function(x,y){r[y]=r[y]||[];r[y].push(x);},registerViewerReview:function(x,y){s[y]=s[y]||[];s[y].push(x);},registerComposer:function(x,y){t[y]=t[y]||[];t[y].push(x);},registerToggle:function(x,y,z,aa){u[x]=u[x]||[];u[x].push([y,z,aa]);},addUserReview:function(x,y,z,aa,ba){this._updateState(true,x,y,z,aa,ba);},deleteUserReview:function(x){this._updateState(false,x);},_updateState:function(x,y,z,aa,ba,ca){var da,ea=s[y]||[];for(da=0;da<ea.length;da++)m.remove(ea[da]);var fa=u[y]||[];for(da=0;da<fa.length;da++){var ga=fa[da],ha=ga[x?1:2];m.setContent(ga[0],ha);}var ia=t[y]||[];for(da=0;da<ia.length;da++){var ja=ia[da];if(x){ja.hide();}else{ja.clear();ja.show();}}var ka=r[y]||[];for(da=0;da<ka.length;da++){var la=ka[da],ma=m.find(la,'.uiButtonText'),na=m.find(la,'i'),oa,pa;if(x){oa=p('/images/icons/buttons/check.png');pa="Reviewed";}else{oa=p('/images/icons/buttons/feature.png');pa="Review";}var qa=m.create('span'),ra={"padding-right":"5px"};j.renderComponent(j.createElement(j.DOM.div,null,pa),ma);j.renderComponent(j.createElement(k,{src:oa,style:ra}),qa);m.replace(na,qa);}if(x){var sa=m.scry(document.body,'.tlPagesTipsList')[0];if(sa)m.prependContent(sa,z);var ta=m.scry(document,'#page_recommendations_browse_list')[0];if(ta)m.prependContent(ta,aa);var ua=q('page_reviews_tab_list');if(ua)m.prependContent(ua,ba);var va="ul._1rhx",wa=m.scry(document,va)[0];if(wa)m.prependContent(wa,ca);}},registerPhotoUpload:function(x,y){g.subscribe('multi-upload/images-upload-completed/'+y,function(){v[y]=false;});g.subscribe('multi-upload/images-upload-start/'+y,function(){v[y]=true;});i.listen(x,'submit',function(){if(v[y]){new h().setTitle("Photos Are Uploading").setSemiModal(true).setButtons(h.OK).setBody("Please wait until photo is uploaded before posting.").show();return false;}return true;}.bind(this));}};l.onLeave(function(){r={};s={};t={};u={};v={};});e.exports=w;},null);